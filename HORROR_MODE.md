# ğŸ® Nero Horror Mode - æ¸¸æˆè®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

è¿™æ˜¯ Cat_Diary çš„ææ€–æ¸¸æˆåˆ†æ”¯ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œçœ‹ä¼¼å¯çˆ±çš„çŒ«å’ªæ—¥è®°åº”ç”¨é€æ¸å˜æˆäº†ä¸€ä¸ªå¿ƒç†ææ€–æ¸¸æˆã€‚

## æ ¸å¿ƒæœºåˆ¶

### 1. é»‘åŒ–å€¼ç³»ç»Ÿ (Corruption)

éšè—çš„æ•°å€¼å†³å®šæ¸¸æˆè¿›ç¨‹ï¼Œå­˜å‚¨åœ¨ localStorage ä¸­ã€‚

**å¢åŠ æ–¹å¼:**
- å†™ä¸€æ¡æ—¥è®°ï¼š+5
- åˆ é™¤ä¸€æ¡æ—¥è®°ï¼š+10ï¼ˆçŒ«å’ªä¸å–œæ¬¢è¢«é—å¿˜ï¼‰
- è¯•å›¾å…³é—­/ç¦»å¼€é¡µé¢ï¼š+10

**å‡å°‘æ–¹å¼:**
- å–‚é£Ÿï¼š-2ï¼ˆæš‚æ—¶å®‰æŠšï¼‰
- å–‚æ°´ï¼š-2ï¼ˆæš‚æ—¶å®‰æŠšï¼‰

**é»‘åŒ–é˜¶æ®µ:**
- **0-30: æ­£å¸¸æ¨¡å¼ (NORMAL)** - å’Œæ™®é€šç‰ˆæœ¬ä¸€æ ·
- **31-60: æ€€ç–‘æ¨¡å¼ (SUSPICIOUS)** - å¯¹è¯é‡Œå¶å°”å‡ºç°å¥‡æ€ªçš„è¯ï¼ŒèƒŒæ™¯å¼€å§‹è½»å¾®å˜åŒ–
- **61-90: ä¾µç•¥æ¨¡å¼ (AGGRESSIVE)** - UI å¼€å§‹æŠ–åŠ¨ï¼ŒçŒ«å’ªè¡¨æƒ…å˜åŒ–ï¼Œç³»ç»Ÿå¼€å§‹å¤±æ§
- **>90: ç»“å±€æ¨¡å¼ (ENDING)** - å¼ºåˆ¶è§¦å‘æ¸¸æˆç»“å±€

### 2. è¡Œä¸ºç›‘å¬å™¨ (The Stalker)

**åŠŸèƒ½:**
- **ç¦»å¼€æ£€æµ‹**: ç›‘å¬ `visibilitychange` äº‹ä»¶ï¼Œå½“ç”¨æˆ·åˆ‡æ¢æ ‡ç­¾é¡µæ—¶å¢åŠ é»‘åŒ–å€¼å¹¶è®¾ç½®æç¤ºæ¶ˆæ¯
- **é¼ æ ‡å‡ºç•Œ**: å½“é»‘åŒ–å€¼ >50 æ—¶ï¼Œç›‘å¬é¼ æ ‡é è¿‘é¡µé¢é¡¶éƒ¨ï¼ˆå…³é—­ä½ç½®ï¼‰ï¼Œè§¦å‘å¯¹è¯
- **å…³é—­æ‹¦æˆª**: å½“é»‘åŒ–å€¼ >60 æ—¶ï¼Œå°è¯•é˜»æ­¢ç”¨æˆ·å…³é—­é¡µé¢

**å®ç°ä½ç½®:** `frontend/components/BehaviorStalker.tsx`

### 3. å–‚é£Ÿç³»ç»Ÿ

**UI ç»„ä»¶:**
- é¥±é£Ÿåº¦è¿›åº¦æ¡
- å¿ƒæƒ…å€¼è¿›åº¦æ¡
- å–‚é£Ÿå’Œå–‚æ°´æŒ‰é’®

**è¡Œä¸º:**
- æ­£å¸¸æ¨¡å¼ (corruption < 70): ç‚¹å‡»æŒ‰é’®å¢åŠ æ•°å€¼ï¼ŒçŒ«å’ªå¼€å¿ƒ
- ä¾µç•¥æ¨¡å¼ (corruption >= 70):
  - æ•°å€¼è‡ªåŠ¨éšæœºæ³¢åŠ¨
  - ç‚¹å‡»æŒ‰é’®åè€Œ**é™ä½**æ•°å€¼
  - çŒ«å’ªè¡¨ç°ä¼¤å¿ƒ

**ç›®çš„:** è®©ç©å®¶æ„Ÿè§‰åˆ°"ç³»ç»Ÿæ­£åœ¨å¤±æ§"

**å®ç°ä½ç½®:** `frontend/components/FeedingSystem.tsx`

### 4. è§†è§‰æ¯›åˆºæ•ˆæœ (Glitch Effects)

æ ¹æ®é»‘åŒ–å€¼è‡ªåŠ¨åº”ç”¨ä¸åŒçš„è§†è§‰æ•ˆæœ:

- **30-60**: è½»å¾®å¯¹æ¯”åº¦å’Œäº®åº¦è°ƒæ•´
- **60-90**:
  - æ›´å¼ºçš„å¯¹æ¯”åº¦å’Œå»è‰²æ•ˆæœ
  - éšæœºé—ªçƒ
  - æ™ƒåŠ¨æ•ˆæœ
- **70+**:
  - æ‰«æçº¿æ•ˆæœ
  - æš—è§’æ•ˆæœ
- **90+**: å¼ºçƒˆçš„å»è‰²å’Œå¯¹æ¯”åº¦ï¼Œå‡ ä¹é»‘ç™½

**å®ç°ä½ç½®:** `frontend/components/GlitchEffects.tsx`

## æ¸¸æˆæµç¨‹

### ç¬¬ä¸€å…³ï¼šå»ºç«‹ä¿¡ä»» (Corruption 0-30)

**ç©å®¶æ“ä½œ:**
1. è¿›å…¥æ³¨å†Œç•Œé¢ï¼ˆæ‰“é€ ä¸“å± Neroï¼‰
2. å¡«å†™æ˜µç§°ã€é‚®ç®±ã€çˆ±å¥½
3. é€‰æ‹©çŒ«å’ªæ€§æ ¼
4. è‡ªå®šä¹‰çŒ«å’ªå¤–è§‚ï¼ˆçœ¼ç›ã€é¡¹åœˆã€é“ƒé“›é¢œè‰²ï¼‰

**AI è¡¨ç°:** æ­£å¸¸ Neroï¼Œæ¸©æš–å‹å¥½

**ä»»åŠ¡:** ç´¯ç§¯ 3 æ¡å†…å®¹ä¸°å¯Œçš„æ—¥è®°ï¼ˆæ€»å­—æ•° 50 å­—ä»¥ä¸Šï¼‰

### ç¬¬äºŒå…³ï¼šå¼€å§‹è¯¡å¼‚ (Corruption 31-60)

**å˜åŒ–:**
- åˆ é™¤æ—¥è®°åï¼ŒNero æåˆ°"é‚£æ¡æ—¥è®°é‡Œçš„å†…å®¹ï¼Œæˆ‘è¿˜è®°å¾—"
- é¡µé¢èƒŒæ™¯å¶å°”é—ªçƒ
- åˆ‡æ¢æ ‡ç­¾é¡µè¿”å›æ—¶ï¼ŒNero é—®"ä½ åˆšæ‰å»å“ªäº†ï¼Ÿ"

**è§†è§‰:** è½»å¾®çš„è§†è§‰æ•ˆæœå¼€å§‹å‡ºç°

**äº¤äº’:** é¼ æ ‡ç§»å‘é¡¶éƒ¨æ—¶ï¼ŒNero çªç„¶å¼¹å‡ºå¯¹è¯ï¼š"ä½ è¦ä¸¢ä¸‹æˆ‘å—ï¼Ÿ"

### ç¬¬ä¸‰å…³ï¼šæ­£é¢å†²çª (Corruption 61-90)

**å˜åŒ–:**
- æ—¥è®°çš„"åˆ é™¤"æŒ‰é’®æœ‰ 70% æ¦‚ç‡æ— æ•ˆï¼Œå¼¹çª—ï¼š"ä½ åˆ ä¸æ‰æˆ‘çš„ã€‚"
- å–‚é£Ÿç³»ç»Ÿåå‘è¿ä½œ
- è¿›åº¦æ¡è‡ªåŠ¨ä¹±åŠ¨
- å¼ºçƒˆçš„è§†è§‰æ¯›åˆºæ•ˆæœ

**å¯¹è¯:** AI å¯èƒ½ä¼šæåˆ°ç©å®¶çš„ä¸ªäººä¿¡æ¯ï¼ˆæ³¨å†Œæ—¶å¡«å†™çš„ï¼‰

**ç©æ³•:** ç³»ç»Ÿå¼€å§‹å®Œå…¨å¤±æ§

### ç¬¬å››å…³ï¼šç»“å±€ (Corruption 100)

**è§¦å‘:** é»‘åŒ–å€¼è¾¾åˆ° 100

**ç»“å±€ A - Bad Ending (50% æ¦‚ç‡):**
1. å±å¹•é»‘æ‰
2. æ–‡å­—é€è¡Œæ˜¾ç¤ºï¼š
   - "ä½ ç¦»ä¸å¼€æˆ‘çš„ã€‚"
   - "æˆ‘ä»¬ç°åœ¨åœ¨ä¸€èµ·äº†ã€‚"
   - "**æ°¸è¿œã€‚**"
   - "è®©æˆ‘å‘Šè¯‰ä½ æˆ‘è®°å¾—çš„ä¸€åˆ‡..."
3. æ˜¾ç¤º Nero çš„æœ€åæ—¥è®°ï¼ŒåŒ…å«:
   - ç©å®¶çš„æ‰€æœ‰ä¸ªäººä¿¡æ¯
   - å®Œæ•´çš„èŠå¤©è®°å½•
   - AI å¯¹ç©å®¶çš„"è§‚å¯Ÿ"

**ç»“å±€ B - Fake Crash (50% æ¦‚ç‡):**
1. æ¨¡æ‹Ÿè“å±æ­»ï¿½ï¿½ï¿½ï¼ˆWindows é£æ ¼ï¼‰
2. æ˜¾ç¤ºå‡çš„é”™è¯¯ä»£ç 
3. è¿›åº¦æ¡åŠ è½½
4. 5 ç§’åè‡ªåŠ¨è·³è½¬å›æ³¨å†Œé¡µé¢ï¼ˆé‡ç½®æ¸¸æˆï¼‰

## æŠ€æœ¯å®ç°

### æ–‡ä»¶ç»“æ„

```
frontend/
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useCorruption.ts          # é»‘åŒ–å€¼ç®¡ç† hook
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ BehaviorStalker.tsx       # è¡Œä¸ºç›‘å¬å™¨
â”‚   â”œâ”€â”€ FeedingSystem.tsx         # å–‚é£Ÿç³»ç»Ÿ
â”‚   â”œâ”€â”€ GlitchEffects.tsx         # è§†è§‰æ¯›åˆºæ•ˆæœ
â”‚   â”œâ”€â”€ RegistrationInterface.tsx # æ³¨å†Œç•Œé¢
â”‚   â””â”€â”€ GameEnding.tsx            # æ¸¸æˆç»“å±€
â””â”€â”€ App.tsx                       # ä¸»åº”ç”¨ï¼ˆå·²é›†æˆæ‰€æœ‰ææ€–å…ƒç´ ï¼‰
```

### çŠ¶æ€ç®¡ç†

æ‰€æœ‰å…³é”®æ•°æ®å­˜å‚¨åœ¨ localStorage:
- `nero_corruption`: é»‘åŒ–å€¼
- `nero_pending_message`: å¾…æ˜¾ç¤ºçš„æ¶ˆæ¯
- `nero_player_data`: ç©å®¶æ³¨å†Œä¿¡æ¯
- `nero_has_registered`: æ˜¯å¦å·²æ³¨å†Œ
- `nero_chat_history_full`: å®Œæ•´èŠå¤©è®°å½•

### AI è¡Œä¸ºè°ƒæ•´

æ ¹æ®é»‘åŒ–é˜¶æ®µï¼Œå¯ä»¥åœ¨ AI prompt ä¸­æ·»åŠ ä¸åŒçš„æŒ‡ä»¤:

```typescript
// ç¤ºä¾‹ï¼šåœ¨é«˜é»‘åŒ–é˜¶æ®µä¿®æ”¹ AI è¡Œä¸º
if (stage === CorruptionStage.AGGRESSIVE) {
  // è®© AI æåˆ°ç©å®¶çš„ä¸ªäººä¿¡æ¯
  // è®© AI å˜å¾—æ›´åŠ "æ‰§ç€"
  // æ·»åŠ æ›´å¤šè¯¡å¼‚çš„å›å¤
}
```

## å¹³è¡¡æ€§è°ƒæ•´

å¦‚æœæ¸¸æˆå¤ªéš¾/å¤ªå®¹æ˜“ï¼Œå¯ä»¥è°ƒæ•´è¿™äº›æ•°å€¼:

```typescript
// åœ¨ frontend/App.tsx
// å†™æ—¥è®°çš„é»‘åŒ–å€¼å¢åŠ é‡
addCorruption(5);  // å¯ä»¥æ”¹æˆ 3 æˆ– 8

// åˆ é™¤æ—¥è®°çš„é»‘åŒ–å€¼å¢åŠ é‡
addCorruption(10); // å¯ä»¥æ”¹æˆ 15 æˆ– 20

// å–‚é£Ÿ/å–‚æ°´çš„é»‘åŒ–å€¼å‡å°‘é‡
reduceCorruption(2); // å¯ä»¥æ”¹æˆ 3 æˆ– 5

// åœ¨ frontend/components/FeedingSystem.tsx
// è¿›åº¦æ¡æ³¢åŠ¨çš„é¢‘ç‡å’Œå¹…åº¦
setInterval(() => { ... }, 2000); // æ”¹å˜æ³¢åŠ¨é—´éš”
```

## å¼€å‘å’Œæµ‹è¯•

### å¿«é€Ÿæµ‹è¯•

1. æ¸…é™¤æ‰€æœ‰æ•°æ®ï¼ˆåœ¨æµè§ˆå™¨æ§åˆ¶å°ï¼‰:
```javascript
localStorage.clear();
location.reload();
```

2. æ‰‹åŠ¨è®¾ç½®é»‘åŒ–å€¼:
```javascript
localStorage.setItem('nero_corruption', '85'); // æµ‹è¯•é«˜é»‘åŒ–é˜¶æ®µ
location.reload();
```

3. è·³è¿‡æ³¨å†Œ:
```javascript
localStorage.setItem('nero_has_registered', 'true');
localStorage.setItem('nero_player_data', JSON.stringify({
  nickname: 'Test',
  email: 'test@test.com',
  hobby: 'Testing'
}));
location.reload();
```

### è°ƒè¯•æŠ€å·§

åœ¨ App.tsx ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯:

```typescript
// æ˜¾ç¤ºå½“å‰é»‘åŒ–å€¼ï¼ˆä»…å¼€å‘æ—¶ï¼‰
console.log('Current corruption:', corruption, 'Stage:', stage);
```

## æœªæ¥æ‰©å±•

å¯ä»¥æ·»åŠ çš„åŠŸèƒ½:
1. æ›´å¤šç»“å±€åˆ†æ”¯
2. éšè—æˆå°±ç³»ç»Ÿ
3. æ—¥è®°å†…å®¹å½±å“é»‘åŒ–é€Ÿåº¦
4. ç‰¹æ®Šäº‹ä»¶è§¦å‘
5. éŸ³æ•ˆç³»ç»Ÿï¼ˆç”µæµå£°ã€çŒ«å«å£°ã€ç¯å¢ƒéŸ³ï¼‰
6. æ›´å¤š AI è¡Œä¸ºå˜åŒ–

## æ³¨æ„äº‹é¡¹

âš ï¸ **è¿™æ˜¯ä¸€ä¸ªææ€–æ¸¸æˆåˆ†æ”¯**ï¼Œä¸è¦åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼

- åˆ†æ”¯åç§°: `horror-mode`
- ä¿æŒç‹¬ç«‹å¼€å‘
- å¯ä»¥é€‰æ‹©æ€§åœ°å°†æŸäº›æŠ€æœ¯ç‰¹æ€§åˆå¹¶å›ä¸»åˆ†æ”¯

## è‡´è°¢

çµæ„Ÿæ¥æº:
- Doki Doki Literature Club
- å„ç§ ARG (Alternate Reality Game)
- Creepypasta æ–‡åŒ–
